(this["webpackJsonpprueba-resuelve"]=this["webpackJsonpprueba-resuelve"]||[]).push([[0],{204:function(e,t,n){e.exports=n(385)},213:function(e,t,n){},214:function(e,t,n){},216:function(e,t,n){},280:function(e,t,n){},286:function(e,t){},288:function(e,t){},299:function(e,t){},301:function(e,t){},326:function(e,t){},328:function(e,t){},329:function(e,t){},335:function(e,t){},337:function(e,t){},355:function(e,t){},358:function(e,t){},374:function(e,t){},377:function(e,t){},380:function(e,t,n){},382:function(e,t,n){},383:function(e,t,n){},384:function(e,t,n){},385:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(30),u=n.n(c),o=n(11),i=n(124),l=n(193),s=n(76);i.a.use(l.a).use(s.e).init({lng:"en",backend:{loadPath:"/assets/i18n/{{ns}}/{{lng}}.json"},fallbackLng:"en",debug:!0,ns:["translations"],defaultNS:"translations",keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},react:{wait:!0}});i.a;var m=n(60),d=n(196),b=n(8),p="USER_AUTHENTICATE",f="USER_SIGNOUT",v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case p:return Object(b.a)(Object(b.a)({},e),{},{isAuthenticated:!0,user:Object(b.a)({},a)});case f:return Object(b.a)(Object(b.a)({},e),{},{isAuthenticated:!1,user:{}});default:return e}},h="SAVE_CURRENT_INFO",g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case h:return Object(b.a)(Object(b.a)({},e),a);default:return e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{core:v(e.core,t),current:g(e.current,t)}},O=n(43),j=n.n(O),y=n(87),k=n(88),x=new(function(){function e(){var t=this;return Object(y.a)(this,e),this.instance=null,this.saveToken=function(e){t.setItem("_ut",e)},this.deleteToken=function(){t.removeItem("_ut")},this.getUserInfo=function(){var e=t.getItem("_ut");if(""===e||null===e)return null;var n=j()(e);return n.token=e,n},this.setItem=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return localStorage.setItem(e,t)},this.removeItem=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return localStorage.removeItem(e)},this.getItem=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return localStorage.getItem(e)},null!==this.instance||(this.instance=this),this.instance}return Object(k.a)(e,[{key:"token",get:function(){return this.getItem("_ut")}}]),e}()),w=x.getItem("_pag"),I=x.getItem("_ct"),S={core:Object(b.a)({},function(){var e={user:x.getUserInfo()};return e.isAuthenticated=null!==e.user,e}()),current:{pagination:w?j()(w):{},records:I?j()(I):{}}},A=Object(d.createLogger)(),C=Object(m.d)(E,S,Object(m.c)(Object(m.a)(A))),N=(n(213),n(10)),U=n(12),_=n(390),M=n(95),F=n(61),L=(n(214),n(198)),z=n(32),D=n(49),T=n(57),P=(n(216),function(){var e=Object(_.a)(),t=e.t,n=e.i18n,c=Object(a.useCallback)((function(){var e=x.getItem("lan");""===e&&null===e||n.changeLanguage(e)}),[n]);Object(a.useEffect)((function(){c()}),[c]);return r.a.createElement(L.a,{bg:"dark",title:r.a.createElement(T.a,{icon:D.b}),id:"language-selector",onSelect:function(e){n.changeLanguage(e),x.setItem("lan",e)}},r.a.createElement(z.a.Item,{lang:"en",eventKey:"en"},t("english.label")),r.a.createElement(z.a.Item,{lang:"es-MX",eventKey:"es-MX"},t("spanish.label")))}),X=Object(o.b)((function(e){var t=e.core;return{isAuthenticated:t.isAuthenticated,isAdmin:!!t.user&&t.user.admin}}))((function(e){var t=e.isAuthenticated,n=e.isAdmin,a=Object(_.a)().t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{bg:"dark",sticky:"top",id:"main-menu"},r.a.createElement(M.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(M.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(F.a.Item,null,t&&n?r.a.createElement(F.a.Link,{as:N.b,to:"/admin"},a("users.label")):null),r.a.createElement(F.a.Item,null,t?r.a.createElement(F.a.Link,{as:N.b,to:"/signout"},a("signout.label")):r.a.createElement(F.a.Link,{as:N.b,to:"/login"},a("login.label"))),r.a.createElement(P,null))))})),B=n(9),K=n.n(B),R=n(17),q=n(14),G=n(41),J=n.n(G),V=n(96),W=n(39),$=n(51),H=n.n($),Y=n(122),Q=n.n(Y),Z=new(function(){function e(){return Object(y.a)(this,e),this.instance=null,null!==this.instance||(this.url="https://prueba-resuelve.herokuapp.com",this.instance=this),this.instance}return Object(k.a)(e,[{key:"adminLogin",value:function(){var e=Object(R.a)(K.a.mark((function e(t,n){var a,r,c;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.a.post("".concat(this.url,"/users/adminLogin"),{user:t,password:Q()(n)});case 3:if(!(a=e.sent).headers.authorization){e.next=11;break}return r=a.headers.authorization,c=(c=r.split(" "))[1],e.abrupt("return",Object(b.a)(Object(b.a)({},j()(c)),{},{token:c}));case 11:return e.abrupt("return",!1);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"userLogin",value:function(){var e=Object(R.a)(K.a.mark((function e(t,n){var a,r,c;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.a.post("".concat(this.url,"/users/login"),{email:t,password:Q()(n)});case 3:if(!(a=e.sent).headers.authorization){e.next=11;break}return r=a.headers.authorization,c=(c=r.split(" "))[1],e.abrupt("return",Object(b.a)(Object(b.a)({},j()(c)),{},{token:c}));case 11:return e.abrupt("return",!1);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getUserList",value:function(){var e=Object(R.a)(K.a.mark((function e(t){var n,a,r=arguments;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"",e.prev=1,e.next=4,H.a.get("".concat(this.url,"/users/list?page=").concat(n),{headers:{Authorization:"Bearer ".concat(t)}});case 4:if(200!==(a=e.sent).status){e.next=9;break}return e.abrupt("return",a.data);case 9:return e.abrupt("return",!1);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getClientMovements",value:function(){var e=Object(R.a)(K.a.mark((function e(t,n){var a,r,c=arguments;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>2&&void 0!==c[2]?c[2]:"",e.prev=1,e.next=4,H.a.get("".concat(this.url,"/users/").concat(n,"/movements?page=").concat(a),{headers:{Authorization:"Bearer ".concat(t)}});case 4:if(200!==(r=e.sent).status){e.next=9;break}return e.abrupt("return",r.data);case 9:return e.abrupt("return",!1);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getMyMovements",value:function(){var e=Object(R.a)(K.a.mark((function e(t){var n,a,r=arguments;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"",e.prev=1,e.next=4,H.a.get("".concat(this.url,"/users/myMovements?page=").concat(n),{headers:{Authorization:"Bearer ".concat(t)}});case 4:if(200!==(a=e.sent).status){e.next=9;break}return e.abrupt("return",a.data);case 9:return e.abrupt("return",!1);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrencyConversion",value:function(){var e=Object(R.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.a.get("".concat(this.url,"/money/conversion"));case 3:if(200!==(t=e.sent).status){e.next=8;break}return e.abrupt("return",t.data);case 8:return e.abrupt("return",!1);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()}]),e}()),ee={saveUserInfo:function(e){return x.saveToken(e.token),{type:p,payload:e}},signout:function(){return x.deleteToken(),x.removeItem("_ct"),x.removeItem("_pag"),{type:f}}},te=(n(280),Object(o.b)((function(e){return{core:e.core}}),ee)((function(e){var t,n=e.admin,c=e.saveUserInfo,u=Object(a.useState)(null),o=Object(q.a)(u,2),i=o[0],l=o[1],s=Object(a.useState)(!1),m=Object(q.a)(s,2),d=m[0],b=m[1],p=Object(_.a)().t,f=Object(U.g)(),v=p(n?"adminlogin.label":"clientlogin.label"),h=p(n?"clientq.label":"adminq.label"),g=n?"/login":"/admin/login",E=null,O=function(e){"Enter"===e.key&&j()},j=function(){var e=Object(R.a)(K.a.mark((function e(){var a,r,u;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(!0),a=t.value,r=E.value,""===a||""===r){e.next=17;break}if(l(null),!n){e.next=10;break}return e.next=7,Z.adminLogin(a,r);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,Z.userLogin(a,r);case 12:e.t0=e.sent;case 13:(u=e.t0)?(c(u),u.admin?f.replace("/admin"):f.replace("/mymovements")):l(p("errorlogin2.label")),e.next=18;break;case 17:l(p("errorlogin.label"));case 18:b(!1);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{loading:d,bgColor:"#282c34",spinnerColor:"#9ee5f8",textColor:"#fff",text:p("wait.label")}),r.a.createElement(V.a.Group,{className:"login"},r.a.createElement("h3",null,v),r.a.createElement(V.a.Control,{ref:function(e){return t=e},onKeyDown:O,size:"lg",type:"text",autoComplete:"off",placeholder:n?p("user.label"):"Email"}),r.a.createElement(V.a.Control,{ref:function(e){return E=e},onKeyDown:O,size:"lg",type:"password",autoComplete:"off",placeholder:p("password.label")}),r.a.createElement("div",{className:"error-message"},i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{icon:D.a})," ",i)),r.a.createElement("div",{className:"login-bottom"},r.a.createElement(W.a,{variant:"secondary",onClick:j},p("submit.label")),r.a.createElement(N.b,{to:g},h))))}))),ne=Object(o.b)((function(){return{}}),ee)((function(e){return(0,e.signout)(),r.a.createElement(U.a,{to:"/login"})})),ae=n(59),re=Object(o.b)((function(e){var t=e.core;return{isAuthenticated:t.isAuthenticated,isClient:!t.user.admin}}))((function(e){var t=e.isAuthenticated,n=e.isClient,a=e.children,c=Object(ae.a)(e,["isAuthenticated","isClient","children"]);return r.a.createElement(U.b,Object.assign({},c,{render:function(e){var c=e.location;return t&&n?a:r.a.createElement(U.a,{to:{pathname:"/login",state:{from:c}}})}}))})),ce=Object(o.b)((function(e){var t=e.core;return{isAuthenticated:t.isAuthenticated,isAdmin:!!t.user&&t.user.admin}}))((function(e){var t=e.isAuthenticated,n=e.isAdmin,a=e.children,c=Object(ae.a)(e,["isAuthenticated","isAdmin","children"]);return r.a.createElement(U.b,Object.assign({},c,{render:function(e){var c=e.location;return t&&n?a:r.a.createElement(U.a,{to:{pathname:"/admin/login",state:{from:c}}})}}))})),ue=Object(o.b)((function(e){var t=e.core;return{isAuthenticated:t.isAuthenticated,isAdmin:!!t.user&&t.user.admin}}))((function(e){var t=e.isAuthenticated,n=e.isAdmin;return t?n?r.a.createElement(U.a,{to:"/admin"}):r.a.createElement(U.a,{to:"/mymovements"}):r.a.createElement(U.a,{to:"/login"})})),oe=Object(o.b)((function(e){var t=e.core;return{isAuthenticated:t.isAuthenticated,isAdmin:!!t.user&&t.user.admin}}))((function(e){var t=e.isAuthenticated,n=e.isAdmin,a=e.children,c=Object(ae.a)(e,["isAuthenticated","isAdmin","children"]);return r.a.createElement(U.b,Object.assign({},c,{render:function(e){e.location;return t?n?r.a.createElement(U.a,{to:"/admin"}):r.a.createElement(U.a,{to:"/mymovements"}):a}}))})),ie=n(203),le=n(123),se=n.n(le),me="fe1a1915a379f3be5394b64d14794932",de={saveCurrentInfo:function(e){return x.setItem("_ct",se.a.encode(e.records,me)),x.setItem("_pag",se.a.encode(e.pagination,me)),{type:h,payload:e}}},be=n(35),pe=function(e){var t=e.page,n=e.totalPages,a=e.options;if(0===t)return null;var c=a.path;return r.a.createElement(be.a,null,t>1?r.a.createElement(r.a.Fragment,null,t>2?r.a.createElement(r.a.Fragment,null,r.a.createElement(be.a.Item,{as:"span"},r.a.createElement(N.b,{to:"".concat(c,"/1")},"1")),t>3?r.a.createElement(be.a.Ellipsis,null):null):null,r.a.createElement(be.a.Item,null,r.a.createElement(N.b,{to:"".concat(c,"/").concat(t-1)},t-1))):null,r.a.createElement(be.a.Item,{active:!0},t),t<n?r.a.createElement(r.a.Fragment,null,r.a.createElement(be.a.Item,null,r.a.createElement(N.b,{to:"".concat(c,"/").concat(t+1)},t+1)),t<n-1?r.a.createElement(r.a.Fragment,null,t<n-2?r.a.createElement(be.a.Ellipsis,null):null,r.a.createElement(be.a.Item,null,r.a.createElement(N.b,{to:"".concat(c,"/").concat(n)},n))):null):null)},fe=n(202),ve=function(e){var t=e.columns,n=e.content,a=e.options.order,c=Object(_.a)().t,u=t.map((function(e){return r.a.createElement("th",{className:"orderBy",onClick:e.cb?e.cb:function(){}},e.desc," ",e.sort?r.a.createElement(T.a,{size:"xs",icon:"asc"===a?D.c:D.d}):null)})),o=n.map((function(e,t){return r.a.createElement("tr",{key:t},Object.keys(e).map((function(t){return r.a.createElement("td",null,function(e){if(e.yesno)return e.value?c("yes.label"):"No";if(e.url)return r.a.createElement(N.b,{to:e.url},e.value);if(e.dc)return"credit"===e.value?c("credit.label"):c("debit.label");if(e.amount)return r.a.createElement("i",null,"$ ".concat((t=e.value,t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))," ").concat(e.currency));var t;if(e.date){var n=new Date(e.value),a=n.getDate(),u=n.getMonth()+1,o=n.getFullYear();return"".concat(a,"/").concat(u,"/").concat(o)}return e}(e[t]))})))}));return r.a.createElement(fe.a,{responsive:!0,striped:!0,bordered:!0,hover:!0,variant:"dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,u)),r.a.createElement("tbody",null,o))},he=(n(380),n(381),Object(o.b)((function(e){return{current:e.current}}),de)((function(e){var t=e.saveCurrentInfo,n=Object(_.a)().t,c=Object(U.h)().p;c=Number.isNaN(Number(c))?1:c;var u=Object(a.useState)(0),o=Object(q.a)(u,2),i=o[0],l=o[1],s=Object(a.useState)(0),m=Object(q.a)(s,2),d=m[0],b=m[1],p=Object(a.useState)("asc"),f=Object(q.a)(p,2),v=f[0],h=f[1],g=Object(a.useState)(),E=Object(q.a)(g,2),O=E[0],j=E[1],y=function(){var e=Object(R.a)(K.a.mark((function e(){var n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.getUserList(x.token,c);case 2:if(!(n=e.sent)){e.next=9;break}return a=n.records.map((function(e){return{name:{value:"".concat(e.nombre," ").concat(e.segundo_nombre," ").concat(e.apellido," ").concat(e.segundo_apellido),url:"/admin/client/".concat(e.uid)},email:e.email,active:{value:e.active,yesno:!0}}})),l(n.pagination.page),b(n.pagination.totalPages),t(n),e.abrupt("return",Object(ie.a)(a));case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){(function(){var e=Object(R.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,j(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c]);var k=function(e){var t=O.sort((function(t,n){if("email"===e){if(t[e]<n[e])return"desc"===v?-1:1;if(t[e]>n[e])return"desc"===v?1:-1}return t[e].value<n[e].value?"desc"===v?-1:1:t[e].value>n[e].value?"desc"===v?1:-1:0}));j(t),h("desc"===v?"asc":"desc")},w=[{desc:n("name.label"),sort:!0,cb:function(){return k("name")}},{desc:"Email",sort:!0,cb:function(){return k("email")}},{desc:n("active.label"),sort:!0,cb:function(){return k("active")}}];return r.a.createElement("div",{className:"user-list-wrapper"},O?r.a.createElement(r.a.Fragment,null,r.a.createElement(ve,{columns:w,content:O,options:{order:v}}),r.a.createElement(pe,{page:i,totalPages:d,options:{path:"/admin/p"}})):r.a.createElement(J.a,{loading:!0,bgColor:"#282c34",spinnerColor:"#9ee5f8",textColor:"#fff",text:n("wait.label")}))}))),ge=(n(382),Object(o.b)((function(e){var t=e.current;return{records:t.records,pagination:t.pagination}}),de)((function(e){var t=e.saveCurrentInfo,n=Object(U.h)().p,c=Object(_.a)().t,u=Object(a.useState)(),o=Object(q.a)(u,2),i=o[0],l=o[1],s=Object(a.useState)(0),m=Object(q.a)(s,2),d=m[0],p=m[1],f=Object(a.useState)(0),v=Object(q.a)(f,2),h=v[0],g=v[1],E=Object(a.useState)("asc"),O=Object(q.a)(E,2),j=O[0],y=O[1],k=Object(a.useState)("usd"),w=Object(q.a)(k,2),I=w[0],S=w[1],A=Object(a.useState)({}),C=Object(q.a)(A,2),N=C[0],M=C[1];n=Number.isNaN(Number(n))?1:n;var F=function(){var e=Object(R.a)(K.a.mark((function e(){var a,r,c,u;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.getMyMovements(x.token,n);case 2:if(!(a=e.sent)){e.next=15;break}return e.next=6,Z.getCurrencyConversion();case 6:r=e.sent,c=a.records.map((function(e){return{amount:{amount:!0,value:e.amount,mxn:r?(e.amount*r.usd2mxn).toFixed(2):e.amount,usd:e.amount,currency:"USD"},type:{dc:!0,value:e.type},description:e.description,date:{date:!0,value:e.created_at}}})),u=x.getUserInfo(),M(u),p(a.pagination.page),g(a.pagination.totalPages),l(c),S("usd"),t(a);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){F()}),[n]);var L=function(e){var t=i.sort((function(t,n){if("description"===e){if(t[e]<n[e])return"desc"===j?-1:1;if(t[e]>n[e])return"desc"===j?1:-1}return t[e].value<n[e].value?"desc"===j?-1:1:t[e].value>n[e].value?"desc"===j?1:-1:0}));l(t),y("desc"===j?"asc":"desc")},z=[{desc:c("amount.label"),sort:!0,cb:function(){return L("amount")}},{desc:c("type.label"),sort:!0,cb:function(){return L("type")}},{desc:c("description.label"),sort:!0,cb:function(){return L("description")}},{desc:c("date.label"),sort:!0,cb:function(){return L("date")}}];return r.a.createElement("div",{className:"admin-client-info-wrapper"},i?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null," ",c("name.label"),": ",N.nombre," ",N.apellido," ",N.segundo_apellido),r.a.createElement("p",null,r.a.createElement("i",null,"Email: ",N.email)),r.a.createElement("br",null),r.a.createElement(ve,{columns:z,content:i,options:{order:j}}),r.a.createElement("span",null,r.a.createElement(pe,{page:d,totalPages:h,options:{path:"/mymovements/p"}}),r.a.createElement(W.a,{type:"button",size:"sm",variant:"dark",onClick:function(){var e=i.map((function(e){return"usd"===I?Object(b.a)(Object(b.a)({},e),{},{amount:Object(b.a)(Object(b.a)({},e.amount),{},{value:e.amount.mxn,currency:"MXN"})}):"mxn"===I?Object(b.a)(Object(b.a)({},e),{},{amount:Object(b.a)(Object(b.a)({},e.amount),{},{value:e.amount.usd,currency:"USD"})}):e}));l(e),S("usd"===I?"mxn":"usd")}},r.a.createElement("i",null,"usd"===I?"USD \u2192 MXN":"MXN \u2192 USD")))):r.a.createElement(J.a,{loading:!0,bgColor:"#282c34",spinnerColor:"#9ee5f8",textColor:"#fff",text:c("wait.label")}))}))),Ee=(n(383),Object(o.b)((function(e){var t=e.current;return{records:t.records,pagination:t.pagination}}))((function(e){var t=e.records,n=Object(U.h)().p,c=Object(U.h)().uid,u=Object(_.a)().t,o=Object(U.g)().history,i=t.find((function(e){return e.uid===c}));i||o.replace("/admin");var l=Object(a.useState)(),s=Object(q.a)(l,2),m=s[0],d=s[1],p=Object(a.useState)(0),f=Object(q.a)(p,2),v=f[0],h=f[1],g=Object(a.useState)(0),E=Object(q.a)(g,2),O=E[0],j=E[1],y=Object(a.useState)("asc"),k=Object(q.a)(y,2),w=k[0],I=k[1],S=Object(a.useState)("usd"),A=Object(q.a)(S,2),C=A[0],N=A[1];n=Number.isNaN(Number(n))?1:n;u("loading.label");var M=function(){var e=Object(R.a)(K.a.mark((function e(){var t,a,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.getClientMovements(x.token,c,n);case 2:if(!(t=e.sent)){e.next=12;break}return e.next=6,Z.getCurrencyConversion();case 6:a=e.sent,r=t.records.map((function(e){return{amount:{amount:!0,value:e.amount,mxn:a?(e.amount*a.usd2mxn).toFixed(2):e.amount,usd:e.amount,currency:"USD"},type:{dc:!0,value:e.type},description:e.description,date:{date:!0,value:e.created_at}}})),h(t.pagination.page),j(t.pagination.totalPages),d(r),N("usd");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){M()}),[n]);var F=function(e){var t=m.sort((function(t,n){if("description"===e){if(t[e]<n[e])return"desc"===w?-1:1;if(t[e]>n[e])return"desc"===w?1:-1}return t[e].value<n[e].value?"desc"===w?-1:1:t[e].value>n[e].value?"desc"===w?1:-1:0}));d(t),I("desc"===w?"asc":"desc")},L=[{desc:u("amount.label"),sort:!0,cb:function(){return F("amount")}},{desc:u("type.label"),sort:!0,cb:function(){return F("type")}},{desc:u("description.label"),sort:!0,cb:function(){return F("description")}},{desc:u("date.label"),sort:!0,cb:function(){return F("date")}}];return r.a.createElement("div",{className:"admin-client-info-wrapper"},m?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null," ",i.nombre," ",i.apellido," ",i.segundo_apellido),r.a.createElement("p",null,r.a.createElement("i",null,i.email)),r.a.createElement("br",null),r.a.createElement(ve,{columns:L,content:m,options:{order:w}}),r.a.createElement("span",null,r.a.createElement(pe,{page:v,totalPages:O,options:{path:"/admin/client/".concat(c,"/p")}}),r.a.createElement(W.a,{type:"button",size:"sm",variant:"dark",onClick:function(){var e=m.map((function(e){return"usd"===C?Object(b.a)(Object(b.a)({},e),{},{amount:Object(b.a)(Object(b.a)({},e.amount),{},{value:e.amount.mxn,currency:"MXN"})}):"mxn"===C?Object(b.a)(Object(b.a)({},e),{},{amount:Object(b.a)(Object(b.a)({},e.amount),{},{value:e.amount.usd,currency:"USD"})}):e}));d(e),N("usd"===C?"mxn":"usd")}},r.a.createElement("i",null,"usd"===C?"USD \u2192 MXN":"MXN \u2192 USD")))):r.a.createElement(J.a,{loading:!0,bgColor:"#282c34",spinnerColor:"#9ee5f8",textColor:"#fff",text:u("wait.label")}))}))),Oe=(n(384),function(){return r.a.createElement(N.a,null,r.a.createElement(X,null),r.a.createElement("div",{className:"App"},r.a.createElement(U.d,null,r.a.createElement(ce,{exact:!0,path:"/admin"},r.a.createElement(he,null)),r.a.createElement(ce,{exact:!0,path:"/admin/p"},r.a.createElement(he,null)),r.a.createElement(ce,{path:"/admin/p/:p"},r.a.createElement(he,null)),r.a.createElement(ce,{exact:!0,path:"/admin/client"},r.a.createElement(Ee,null)),r.a.createElement(ce,{exact:!0,path:"/admin/client/:uid"},r.a.createElement(Ee,null)),r.a.createElement(ce,{exact:!0,path:"/admin/client/:uid/p/:p"},r.a.createElement(Ee,null)),r.a.createElement(re,{exact:!0,path:"/mymovements"},r.a.createElement(ge,null)),r.a.createElement(re,{exact:!0,path:"/mymovements/p/:p"},r.a.createElement(ge,null)),r.a.createElement(oe,{path:"/admin/login"},r.a.createElement(te,{admin:!0})),r.a.createElement(oe,{path:"/login"},r.a.createElement(te,null)),r.a.createElement(U.b,{path:"/signout"},r.a.createElement(ne,null)),r.a.createElement(U.b,{exact:!0,path:"/"},r.a.createElement(ue,null)),r.a.createElement(U.a,{to:"/"}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(a.Suspense,{fallback:null},r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:C},r.a.createElement(Oe,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[204,1,2]]]);
//# sourceMappingURL=main.63cc2cf3.chunk.js.map